<div class="flex flex-col flex-auto" style="background: white;" *transloco="let t; read: 'PROFILE'">

<div class="w-full max-w-3xl" style="padding-left:40px;">

    <!-- Form -->
    <form [formGroup]="accountForm">

        <!-- Section -->
        <div class="w-full">
            <div class="text-xl"> <b>{{t('Profile')}}</b></div>
            
        </div>
        <div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
            <!-- Name -->
            <div class="sm:col-span-2">
                <mat-form-field class="fuse-mat-no-subscript w-full">
                    <mat-label>{{t('Name')}}</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:user'"
                        matPrefix></mat-icon>
                    <input
                        [formControlName]="'firstName'"
                        matInput>
                </mat-form-field>
            </div>
            <div class="sm:col-span-2">
                <mat-form-field class="fuse-mat-no-subscript w-full">
                    <mat-label>{{t('Name')}}</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:user'"
                        matPrefix></mat-icon>
                    <input
                        [formControlName]="'lastName'"
                        matInput>
                </mat-form-field>
            </div>
            <!-- Username -->
            
            <!-- Title -->
            
            <div class="sm:col-span-2">
                <mat-form-field class="fuse-mat-no-subscript w-full">
                    <mat-label>{{t('Email')}}</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:mail'"
                        matPrefix></mat-icon>
                    <input
                        [formControlName]="'email'"
                        matInput>
                </mat-form-field>
            </div>
            <div class="sm:col-span-2">
                <mat-form-field class="fuse-mat-no-subscript w-full">
                    <mat-label>{{t('Phone')}}</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:phone'"
                        matPrefix></mat-icon>
                    <input
                        [formControlName]="'phone'"
                        matInput>
                </mat-form-field>
            </div>
        </div>

        <!-- Divider -->
        <div class="my-10 border-t"></div>

        <!-- Section -->
        <div class="w-full">
            <div class="text-xl">{{t('Organization Information')}}</div>
        </div>
        <div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
            <!-- Email -->
            
            <!-- Phone -->
            
            <!-- Country -->
            <div class="sm:col-span-2">
                <mat-form-field style="width: 70%" appearance="outline">
                    <mat-label>{{t('Role')}}</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:location-marker'"
                        matPrefix></mat-icon>
                        <input
                        [formControlName]="'roleId'"
                        matInput readonly>
                </mat-form-field>
            </div>
            <!-- Language -->
            <div class="sm:col-span-2">
                <mat-form-field style="width: 70%" appearance="outline">
                    <mat-label>{{t('Organization')}}</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:globe-alt'"
                        matPrefix></mat-icon>
                        <mat-select formControlName='orgIds' (selectionChange)="changeOrg($event.value)" [(value)]="selectedToppings" multiple>
                            <mat-option *ngFor="let item of orglist" [value]="item.id" >{{item.orgName}}</mat-option>
                        </mat-select>
                </mat-form-field>
            </div>
        </div>

        <!-- Divider -->
        <div class="mt-11 mb-10 border-t"></div>

        <span  *ngIf="orgdate" class="title dialog-title"><b>{{EnterpriseNote}} {{expiredDate| date:"dd-MM-yyyy"}}</b></span>
        <span *ngIf="userdate" class="title dialog-title"><b>{{UserNote}} {{expiredDateuser| date:"dd-MM-yyyy"}}</b></span>
        

       <div *ngIf="showSubscription" class="flex items-center pt-4 ml-auto space-x-0.5 sm:space-x-2">
        <button (click)="openSubPopUp(content)" mat-raised-button color="accent">
            {{t('Add Subsription')}}
        </button>
       </div>
       

        <!-- Actions -->
        <div class="flex items-center justify-end">
            <button
                mat-stroked-button
                type="button">
                Cancel
            </button>
            <button
                class="ml-4"
                mat-flat-button (click)="submit(accountForm)"
                type="button"
                [color]="'primary'">{{t('Save')}}
            </button>
        </div>
    </form>

</div>
</div>

<ng-template #content>

    <h2 mat-dialog-title >Subscription</h2>

    <div class="flex flex-col flex-auto md:w-160 md:min-w-160 -m-6" style="padding: 16px;"><!---->



        <form [formGroup]="subscriptionform" >
            <div class="col-70">
                <div>
                    <mat-form-field style="width: 70%" appearance="outline">
                        <mat-label>Subsription</mat-label>
                        <mat-select (selectionChange)="selectSubType($event)">
                            <mat-option *ngFor="let item of subsriptionlist" [value]="item.id">
                                {{item.label}}- {{item.amount}}{{item.currency}}
                              </mat-option>
                        </mat-select>
                        <!-- <mat-error>{{'Language is required!' | translate}}</mat-error> -->
                    </mat-form-field>
                    <mat-form-field style="width: 70%;" appearance="outline">
                        <mat-label>Subsription Date </mat-label>
                        <input matInput [matDatepicker]="date1" [min]="todayDate" formControlName="subStartedOn">
                        <mat-datepicker-toggle matSuffix [for]="date1">
                        </mat-datepicker-toggle>
                        <mat-datepicker #date1></mat-datepicker>
                    </mat-form-field>&nbsp;&nbsp;
                </div>


                <div class="col lg-12">
                    <br>
                    <button (click)="submitModalForSubscription(subscriptionform)"  [disabled] = "!subscriptionform.valid" mat-flat-button="" matdialogclose="" mat-raised-button color="accent" style="float: right;"
                        class="mdc-button mdc-button--unelevated mat-mdc-unelevated-button mat-unthemed mat-mdc-button-base"
                        type="button"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span
                            class="mdc-button__label"> SUBMIT </span><span
                            class="mat-mdc-focus-indicator"></span><span matripple=""
                            class="mat-ripple mat-mdc-button-ripple"></span><span
                            class="mat-mdc-button-touch-target"></span></button>


                    <button (click)="modalReference.close()" _ngcontent-iac-c131="" mat-raised-button=""
                        mat-flat-button="" matdialogclose="" type="button"
                        class="mat-focus-indicator mdc-button mdc-button--unelevated mat-mdc-unelevated-button mat-unthemed mat-mdc-button-base mat-flat-button mat-raised-button mat-button-base"
                        style="float: right;margin-right: 20px;"><span class="mat-button-wrapper"><span
                                _ngcontent-iac-c131=""
                                class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span
                                _ngcontent-iac-c131="" class="mdc-button__label"> Close </span><span
                                _ngcontent-iac-c131="" class="mat-mdc-focus-indicator"></span><span
                                _ngcontent-iac-c131="" matripple=""
                                class="mat-ripple mat-mdc-button-ripple"></span><span _ngcontent-iac-c131=""
                                class="mat-mdc-button-touch-target"></span></span><span matripple=""
                            class="mat-ripple mat-button-ripple" ng-reflect-disabled="false" ng-reflect-centered="false"
                            ng-reflect-trigger="[object HTMLButtonElement]"></span></button>

                    <br>
                    <br>


                </div>
            </div>
        </form>

    </div>
</ng-template>


